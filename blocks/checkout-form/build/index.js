(()=>{"use strict";const e=window.wp.htmlEntities,a=window.React,s=window.ReactJSXRuntime,{getSetting:i}=window.wc.wcSettings,t=i("openpay_stores_data",{}),n=((0,e.decodeEntities)(t.title),{MX:{title:"¿En dónde puedo pagar?",description:"Acude a cualquiera de las siguientes tiendas aliadas o ",linkText:"consulta la tienda más cercana",linkUrl:"https://www.paynet.com.mx/mapa-tiendas/index.html",columns:[["Walmart","Walmart Express","Bodega Aurrerá","Sam's Club","Waldo's","Farmacias del Ahorro","Farmacias Guadalajara"],["7 Eleven","Circle K","Extra","Kiosko","SYS Tienda","Otras"]]},PE:{title:"¿En dónde puedo pagar?",description:"Acude a cualquiera de las siguientes tiendas aliadas o ",linkText:"consulta la tienda más cercana",linkUrl:"https://public.openpay.pe/web/descargables/2024/manual-pago-efectivo.pdf",columns:[["BBVA","Caja Arequipa","Interbank","Yape"],["BCP","Caja Huancayo","Kasnet"]]}}),c=e=>{const{eventRegistration:i}=e,{onPaymentSetup:c}=i,[l,o]=(0,a.useState)(!1),[d,r]=(0,a.useState)("webapp"),p=t.country||"MX",u=(["MX","PE"].includes(p),n[p]||n.MX),g=e=>{console.log("Se ejecuta"),e.preventDefault(),o(!1)};return(0,a.useEffect)(()=>{const e=c(async()=>{});return()=>{e()}},[]),(0,s.jsxs)("div",{id:"payment_form_openpay_stores",className:"openpay-store-checkout-container",children:["PE"===t.country&&(0,s.jsxs)("div",{className:"openpay-tabs",children:[(0,s.jsx)("button",{type:"button",className:"openpay-tab-button "+("webapp"===d?"active":""),onClick:()=>r("webapp"),children:"Pago en web app"}),(0,s.jsx)("button",{type:"button",className:"openpay-tab-button "+("agencias"===d?"active":""),onClick:()=>r("agencias"),children:"Pago en agencias"})]}),(0,s.jsxs)("div",{className:"openpay-store-checkout-style",children:[(0,s.jsxs)("div",{className:"step-guide",children:[(0,s.jsxs)("div",{className:"step-guide__header",children:[(0,s.jsxs)("div",{className:"step-guide__logo-left",children:[(0,s.jsx)("img",{src:`${t.images_dir}/newcheckout/icon-lock.svg`,alt:"Lock"}),(0,s.jsx)("img",{src:`${t.images_dir}/newcheckout/logo-openpay-small.svg`,alt:"Openpay"}),(0,s.jsx)("span",{className:"step-guide__security-text",children:"by BBVA asegura y protege tu pago."})]}),(0,s.jsxs)("div",{className:"step-guide__logo-right",children:["MX"===t.country&&(0,s.jsx)("img",{src:`${t.images_dir}/newcheckout/paynet-logo.png`,alt:"Paynet",width:"100px"}),"CO"===t.country&&(0,s.jsx)("img",{src:`${t.images_dir}/newcheckout/efecty-logo.png`,alt:"Efecty",width:"100px"})]})]}),(0,s.jsxs)("div",{className:"step-guide__step step-guide__vertical-line",children:[(0,s.jsx)("div",{className:"step-guide__icon",children:(0,s.jsx)("img",{src:`${t.images_dir}/newcheckout/logo-step-1.svg`,alt:"Paso 1"})}),(0,s.jsxs)("div",{className:"step-guide__content",children:[(0,s.jsx)("p",{className:"step-guide__title",children:"Confirma y reserva la compra"}),(0,s.jsx)("p",{className:"step-guide__description",children:"Selecciona “Pagar”, tu compra quedará reservada hasta que completes el pago."})]})]}),(0,s.jsxs)("div",{className:"step-guide__step step-guide__vertical-line",children:[(0,s.jsx)("div",{className:"step-guide__icon",children:(0,s.jsx)("img",{src:`${t.images_dir}/newcheckout/logo-step-2.svg`,alt:"Paso 2"})}),(0,s.jsxs)("div",{className:"step-guide__content",children:[(0,s.jsx)("p",{className:"step-guide__title",children:"Guarda tu referencia de pago"}),(0,s.jsx)("p",{className:"step-guide__description",children:"Descarga y guarda la referencia de pago, también la recibirás por correo."})]})]}),(0,s.jsxs)("div",{className:"step-guide__step",children:[(0,s.jsx)("div",{className:"step-guide__icon",children:(0,s.jsx)("img",{src:`${t.images_dir}/newcheckout/logo-step-3.svg`,alt:"Paso 3"})}),(0,s.jsxs)("div",{className:"step-guide__content",children:[(0,s.jsx)("p",{className:"step-guide__title",children:"Completa el pago"}),(0,s.jsx)("p",{className:"step-guide__description",children:"PE"===t.country?"webapp"===d?'Ingresa a tu banca móvil o web. Selecciona "Pago de servicio" y elige KASHIO PERÚ. Luego, ingresa el número de referencia, lo encontrarás en el PDF enviado a tu correo.':"Acude a una agencia autorizada e indica al cajero que harás un pago de servicio KASHIO PERÚ, proporciona el numero de referencia. Antes de pagar, verifica que los datos coincidan.":"Ve a una de las tiendas aliadas y dile a la persona en caja que harás un pago en efectivo, proporciona el código de barras o núm. de referencia."})]})]}),("MX"===t.country||"PE"===t.country)&&(0,s.jsx)("div",{className:"step-guide__footer",children:(0,s.jsx)("a",{className:"step-guide__link",onClick:e=>{e.preventDefault(),o(!0)},href:"#",children:"¿En dónde puedo pagar?"})})]}),l?(0,s.jsxs)("div",{id:"stepGuideModal",className:"step-guide__modal step-guide__modal--active",children:[(0,s.jsx)("div",{className:"step-guide__modal-overlay",onClick:g}),(0,s.jsxs)("div",{className:"step-guide__modal-content",children:[(0,s.jsx)("button",{className:"step-guide__modal-close",id:"closeModalBtn",onClick:g,children:"×"}),(0,s.jsxs)("div",{className:"step-guide__modal-header",children:[(0,s.jsx)("img",{src:t.images_dir+"newcheckout/icon-info.svg",alt:"Ícono",className:"step-guide__modal-icon"}),(0,s.jsx)("p",{className:"step-guide__modal-title",children:"¿En dónde puedo pagar?"})]}),(()=>{const e=u.description.split(u.linkText);return(0,s.jsxs)("p",{className:"step-guide__modal-text",children:[e[0]," ",(0,s.jsx)("a",{href:u.linkUrl,target:"_blank",rel:"noopener noreferrer",className:"step-guide__modal-link",children:u.linkText}),e[1]]})})(),(0,s.jsx)("div",{className:"step-guide__modal-columns",children:u.columns.map((e,a)=>(0,s.jsx)("ul",{className:"store-list",children:e.map((e,a)=>(0,s.jsx)("li",{children:e},a))},a))})]})]}):null]})]})},{registerPaymentMethod:l}=window.wc.wcBlocksRegistry,{getSetting:o}=window.wc.wcSettings,d=o("openpay_stores_data",{}),r=(0,e.decodeEntities)(d.title||"Pago con efectivo en tiendas"),p=e=>{const{PaymentMethodLabel:a}=e.components;return(0,s.jsx)(a,{text:r})};l({name:"openpay_stores",label:(0,s.jsx)(p,{}),content:(0,s.jsx)(c,{}),edit:(0,s.jsx)(c,{}),canMakePayment:()=>!0,ariaLabel:r,supports:{features:d.supports}})})();